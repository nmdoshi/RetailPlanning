{"name":"titanic.csv_flow","pipeline":{"version":"1.0","doc_type":"pipeline","app_data":{"shaperCreated":true,"replace_space_by_dot":true},"primary_pipeline":"pipeline1","pipelines":[{"id":"pipeline1","nodes":[{"id":"source1","data_asset":{"app_data":{"project_name":"RetailPlanning","dataset_name":"titanic.csv","dataset_type":"Local"}},"type":"binding","output":{"id":"source1output"}},{"id":"d69c581f-0fc8-42bd-8508-602cb78b2b54","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"freeform-code","code":"mutate(survived_value=ifelse(survived==1,\"Y\",\"N\")) "}},"parameters":{"FREEFORM_CODE":"mutate(survived_value=ifelse(survived==1,\"Y\",\"N\")) "},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"source1","port_id_ref":"source1output"}]}],"outputs":[{"id":"outputPort1"}]},{"id":"57dca7e8-bd3a-48ff-96f8-7f1b20689706","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"freeform-code","code":"mutate(pclass_value=ifelse(pclass==1,\"first\",ifelse(pclass==2,\"second\",\"third\")))"}},"parameters":{"FREEFORM_CODE":"mutate(pclass_value=ifelse(pclass==1,\"first\",ifelse(pclass==2,\"second\",\"third\")))"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"d69c581f-0fc8-42bd-8508-602cb78b2b54","port_id_ref":"outputPort1"}]}],"outputs":[{"id":"outputPort2"}]},{"id":"8fe2c406-bd75-460c-9458-a8466e13aa97","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`cabin`)","args":{"column":"cabin"}}},"parameters":{"FREEFORM_CODE":"select(-`cabin`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"57dca7e8-bd3a-48ff-96f8-7f1b20689706","port_id_ref":"outputPort2"}]}],"outputs":[{"id":"outputPort3"}]},{"id":"07bc2798-0e15-4822-9aef-2ee766e6bcc8","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`boat`)","args":{"column":"boat"}}},"parameters":{"FREEFORM_CODE":"select(-`boat`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"8fe2c406-bd75-460c-9458-a8466e13aa97","port_id_ref":"outputPort3"}]}],"outputs":[{"id":"outputPort4"}]},{"id":"639d0733-dd30-46e5-b16c-1d33437ac98e","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`body`)","args":{"column":"body"}}},"parameters":{"FREEFORM_CODE":"select(-`body`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"07bc2798-0e15-4822-9aef-2ee766e6bcc8","port_id_ref":"outputPort4"}]}],"outputs":[{"id":"outputPort5"}]},{"id":"c919c083-9d7c-4b81-86a0-2f890dbaa36d","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`home-dest`)","args":{"column":"home-dest"}}},"parameters":{"FREEFORM_CODE":"select(-`home-dest`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"639d0733-dd30-46e5-b16c-1d33437ac98e","port_id_ref":"outputPort5"}]}],"outputs":[{"id":"outputPort6"}]},{"id":"fbeacb1c-8d44-4ae6-a927-ddbb2be67c0c","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"removeEmptyRows","code":"filter(!is.na(`embarked`) & `embarked` != '')","args":{"conditions":[{"column":"embarked","actualType":"String","operator":"removeEmptyRows","value":""}]}}},"parameters":{"FREEFORM_CODE":"filter(!is.na(`embarked`) & `embarked` != '')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"c919c083-9d7c-4b81-86a0-2f890dbaa36d","port_id_ref":"outputPort6"}]}],"outputs":[{"id":"outputPort7"}]},{"id":"e3c4212e-3bc9-4dc9-9b87-efa279f887d7","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"removeEmptyRows","code":"filter(!is.na(`age`) & `age` != '')","args":{"conditions":[{"column":"age","actualType":"String","operator":"removeEmptyRows","value":""}]}}},"parameters":{"FREEFORM_CODE":"filter(!is.na(`age`) & `age` != '')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"fbeacb1c-8d44-4ae6-a927-ddbb2be67c0c","port_id_ref":"outputPort7"}]}],"outputs":[{"id":"outputPort8"}]},{"id":"c0ae3927-5968-4957-9110-3822f856b807","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"mutate","code":"mutate(`fare` = as.double(`fare`))","args":{"column":"fare","type":"as.double","actualType":"String","newColumnName":""}}},"parameters":{"FREEFORM_CODE":"mutate(`fare` = as.double(`fare`))%>%select('pclass','survived','name','sex','age','sibsp','parch','ticket','fare','embarked','survived_value','pclass_value')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"e3c4212e-3bc9-4dc9-9b87-efa279f887d7","port_id_ref":"outputPort8"}]}],"outputs":[{"id":"outputPort9"}]},{"id":"42d76519-9da4-4921-9536-7ec1914fd160","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"freeform-code","code":"mutate(log_fare=log10(fare))"}},"parameters":{"FREEFORM_CODE":"mutate(log_fare=log10(fare))"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"c0ae3927-5968-4957-9110-3822f856b807","port_id_ref":"outputPort9"}]}],"outputs":[{"id":"outputPort10"}]},{"id":"31ca51f4-851b-4812-be9a-39126911e745","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"mutate","code":"mutate(`age` = as.integer(`age`))","args":{"column":"age","type":"as.integer","actualType":"String","newColumnName":""}}},"parameters":{"FREEFORM_CODE":"mutate(`age` = as.integer(`age`))%>%select('pclass','survived','name','sex','age','sibsp','parch','ticket','fare','embarked','survived_value','pclass_value','log_fare')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"42d76519-9da4-4921-9536-7ec1914fd160","port_id_ref":"outputPort10"}]}],"outputs":[{"id":"outputPort11"}]},{"id":"aded73f2-371b-49b6-94fb-5b82db09b819","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"freeform-code","code":"mutate(age_bin=ifelse(age<6,0,ifelse(age<12,1,ifelse(age<18,2,ifelse(age<40,3,ifelse(age<65,4,ifelse(age<80,5,6)))))))"}},"parameters":{"FREEFORM_CODE":"mutate(age_bin=ifelse(age<6,0,ifelse(age<12,1,ifelse(age<18,2,ifelse(age<40,3,ifelse(age<65,4,ifelse(age<80,5,6)))))))"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"31ca51f4-851b-4812-be9a-39126911e745","port_id_ref":"outputPort11"}]}],"outputs":[{"id":"outputPort12"}]},{"id":"e585115a-0c1d-454d-bede-f41eb8609613","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"freeform-code","code":"mutate(log_fare_bin=ifelse(log_fare<0,0,ifelse(log_fare>8,9,as.integer(log_fare)+1)))"}},"parameters":{"FREEFORM_CODE":"mutate(log_fare_bin=ifelse(log_fare<0,0,ifelse(log_fare>8,9,as.integer(log_fare)+1)))"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"aded73f2-371b-49b6-94fb-5b82db09b819","port_id_ref":"outputPort12"}]}],"outputs":[{"id":"outputPort13"}]},{"id":"81c66ee6-6b26-455d-9be2-e24d8d042822","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`age`)","args":{"column":"age"}}},"parameters":{"FREEFORM_CODE":"select(-`age`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"e585115a-0c1d-454d-bede-f41eb8609613","port_id_ref":"outputPort13"}]}],"outputs":[{"id":"outputPort14"}]},{"id":"660fc8c3-49b3-4b23-acb7-d1a7ffdeae12","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`fare`)","args":{"column":"fare"}}},"parameters":{"FREEFORM_CODE":"select(-`fare`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"81c66ee6-6b26-455d-9be2-e24d8d042822","port_id_ref":"outputPort14"}]}],"outputs":[{"id":"outputPort15"}]},{"id":"ee5539d3-8aa9-42e8-ad6d-b12fc2e21499","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"drop","code":"select(-`log_fare`)","args":{"column":"log_fare"}}},"parameters":{"FREEFORM_CODE":"select(-`log_fare`)"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"660fc8c3-49b3-4b23-acb7-d1a7ffdeae12","port_id_ref":"outputPort15"}]}],"outputs":[{"id":"outputPort16"}]},{"data_asset":{"properties":{"file_format":"csv","mode":"overwrite","first_line_header":true,"name":"titanic.csv_shaped.csv"},"app_data":{"targetType":"dataAsset"}},"id":"target1","type":"binding","input":{"id":"targetInput1","link":{"node_id_ref":"ee5539d3-8aa9-42e8-ad6d-b12fc2e21499","port_id_ref":"outputPort16"}}}],"runtime":"Spark"}]}}